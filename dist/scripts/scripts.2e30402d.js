"use strict";angular.module("AngularConferencePlanning",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/Sample.html",controller:"SampleCtrl"}).when("/mobile",{templateUrl:"views/MobileSample.html",controller:"SampleCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("AngularConferencePlanning").controller("SampleCtrl",["$scope",function(a){angular.extend(a,{placeMapping:{A:"Amphi. A",B:"Amphi. B",C:"Amphi. C",D:"Amphi. D",E:"Amphi. E",F:"Amphi. F",RC:"Rez. de C.",GA:"Grand Amphi."},eventsList:[{title:"Keynote",type:"keynote",speaker:"?",place:"GA",from:"2015-04-12T08:00:00.000+0200",to:"2015-04-12T09:00:00.000+0200",icon:"picture1.png"},{title:"Petit dej'",type:"lunch",speaker:"Everyone",place:"RC",from:"2015-04-12T09:00:00.000+0200",to:"2015-04-12T10:00:00.000+0200",icon:"picture1.png"},{title:"Introduction à l'histoire des sciences",type:"quickie",speaker:"Gérard Blanchard",place:"A",from:"2015-04-12T08:30:00.000+0200",to:"2015-04-12T10:10:00.000+0200",icon:"picture1.png"},{title:"Live coding Restx (Java) / AngularJS",type:"university",speaker:"Gérard Blanchard",place:"B",from:"2015-04-12T09:00:00.000+0200",to:"2015-04-12T11:20:00.000+0200",icon:"picture1.png"},{title:"Histoire Mérovingienne",type:"hands-on",speaker:"Hugh Capet",place:"C",from:"2015-04-12T08:00:00.000+0200",to:"2015-04-12T09:30:00.000+0200",icon:"picture1.png"},{title:"Histoire de france",type:"university",speaker:"Hugh Capet",place:"D",from:"2015-04-12T08:00:00.000+0200",to:"2015-04-12T09:30:00.000+0200",icon:"picture1.png"},{title:"De Zero à Héro avec Spring Boot",type:"university",speaker:"Léon Blum",place:"GA",from:"2015-04-12T10:30:00.000+0200",to:"2015-04-12T12:00:00.000+0200",icon:"picture1.png"},{title:"Monitorer ses logs avec Elastic Search et Kibana",type:"university",speaker:"John Malkovich",place:"GA",from:"2015-04-12T15:00:00.000+0200",to:"2015-04-12T17:00:00.000+0200",icon:"picture2.png"},{title:"Apéro",type:"university",speaker:"Everyone",place:"RC",from:"2015-04-12T18:00:00.000+0200",to:"2015-04-12T19:00:00.000+0200",icon:"picture2.png"},{title:"Apéro + Keynote fermeture",type:"university",speaker:"Surprise",place:"RC",from:"2015-04-13T18:00:00.000+0200",to:"2015-04-13T19:00:00.000+0200",icon:"picture2.png"},{title:"Cloud direct with Docker",type:"quickie",speaker:"Miles Davis",place:"A",from:"2015-04-12T14:00:00.000+0200",to:"2015-04-12T15:00:00.000+0200",icon:"picture3.png"},{title:"Docker on the rocks",type:"hands-on",speaker:"John Doe",place:"B",from:"2015-04-13T11:00:00.000+0200",to:"2015-04-13T12:00:00.000+0200",icon:"picture3.png"},{title:"Deploy faster on GAE",type:"hands-on",speaker:"Richard Johns",place:"A",from:"2015-04-13T08:00:00.000+0200",to:"2015-04-13T11:30:00.000+0200",icon:"picture3.png"},{title:"Magic with Kubernetes",type:"hands-on",speaker:"Alexis Robert",place:"E",from:"2015-04-12T08:45:00.000+0200",to:"2015-04-12T16:30:00.000+0200",icon:"picture3.png"},{title:"Mongo DB on fire",type:"hands-on",speaker:"Tug Smith",place:"F",from:"2015-04-12T08:20:00.000+0200",to:"2015-04-12T14:30:00.000+0200",icon:"picture3.png"},{title:"Marionette for dumies",type:"university",speaker:"John Doe",place:"GA",from:"2015-04-13T08:00:00.000+0200",to:"2015-04-13T12:00:00.000+0200",icon:"picture3.png"}],options:{oneHourSlotSize:"200px",eventClasses:function(a){return[a.type]}}})}]),angular.module("AngularConferencePlanning").directive("conferencePlanning",function(){var a=function(a,b){throw new Error("invalid event definition ("+b+") => "+JSON.stringify(a))},b=function(a){throw new Error("invalid provided options ("+a+")")},c=function(a){return a||(a={}),a.eventClasses||(a.eventClasses=function(){return[]}),a.slots||(a.slots={}),a.slots.from||(a.slots.from=8),a.slots.to||(a.slots.to=19),a.oneHourSlotSize||(a.oneHourSlotSize="200px"),_.endsWith(a.oneHourSlotSize,"px")?a.oneHourSlotSize=a.oneHourSlotSize.replace("px",""):b("bad provided oneHourSlotSize option, px size supported only"),a},d=function(a,b){var c=moment(a.from),d=moment(a.to),e=d.diff(c,"seconds");return b.oneHourSlotSize*e/3600},e=function(a,b){var c=moment(a.from),d=moment(a.from).hours(b.slots.from).minutes(0).seconds(0).milliseconds(0),e=c.diff(d,"seconds");return b.oneHourSlotSize*e/3600+60},f=function(b){var c={lanes:{},dates:{}};return _.each(b,function(b){b.from&&b.to&&b.place||a(b,"some attributes are missing");var d=moment(b.from),e=moment(b.to),f=d.format("YYYY-MM-DD"),g=e.format("YYYY-MM-DD");d.isAfter(e)&&a(b,"event.from > event.to"),f!=g||(c.lanes[f]||(c.lanes[f]={}),c.lanes[f][b.place]||(c.lanes[f][b.place]=[]),c.lanes[f][b.place].push(b)),c.dates=_.keys(c.lanes)}),c},g=function(a){a.axes={X:[]};for(var b=a.options.slots.from,c=a.options.slots.to,d=b;c>=d;)a.axes.X.push(d++)};return{scope:{events:"=",options:"="},restrict:"EA",templateUrl:"views/ConferencePlanning.html",transclude:!0,controller:["$scope",function(a){a.loadDate=function(b){b&&(a.lanes=a.model.lanes[b])},a.computeEventStyle=function(b){var c=e(b,a.options),f=d(b,a.options);return{"margin-left":c+"px",width:f+"px"}},a.$watchCollection("events",function(b){if(b&&!_.isEmpty(b)){var c=a.model=f(a.events);a.loadDate(c.dates[0])}})}],link:function(a){a.options=c(a.options),g(a)}}}),angular.module("AngularConferencePlanning").directive("event",function(){return{scope:!0,controller:["$scope",function(a){a.event=a.$parent.$parent.event}]}});